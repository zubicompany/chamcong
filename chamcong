from zk import ZK, const

# Nháº­p IP mÃ¡y cháº¥m cÃ´ng cá»§a báº¡n táº¡i Ä‘Ã¢y
DEVICE_IP = '192.168.1.222'  # Báº¡n sá»­a IP nÃ y theo IP mÃ¡y cá»§a báº¡n

zk = ZK(DEVICE_IP, port=4370, timeout=5)
conn = None

try:
    conn = zk.connect()
    print("âœ… ÄÃ£ káº¿t ná»‘i tá»›i mÃ¡y cháº¥m cÃ´ng!")

    # Láº¥y dá»¯ liá»‡u cháº¥m cÃ´ng
    attendances = conn.get_attendance()
    print("ğŸ“¥ Danh sÃ¡ch cháº¥m cÃ´ng:")
    for att in attendances:
        print(f"ğŸ‘¤ UserID: {att.user_id} | ğŸ•’ Thá»i gian: {att.timestamp}")

    conn.disconnect()
    print("ğŸ”Œ ÄÃ£ ngáº¯t káº¿t ná»‘i!")

except Exception as e:
    print(f"âŒ Lá»—i: {e}")
